tracer=function(){return Tracer={LEVEL_ERROR:"E",LEVEL_WARNING:"W",LEVEL_MESSAGE:"M",LEVEL_COMM:"C",LEVEL_ALL:"*",LEVEL_DISABLED:"D",setLevel:function(level){this.level=level},isLevelActive:function(level){return!(!level||!this.level)&&(this.level==this.LEVEL_ALL||this.level.indexOf(level)>=0)},log:function(level,msg,obj,force){msg&&(force||this.isLevelActive(level))&&console.log(this.levelBegin(level)+msg,this.levelEnd(level),obj)},comm:function(msg,obj,force){return this.log(this.LEVEL_COMM,msg,obj,force)},message:function(msg,obj,force){return this.log(this.LEVEL_MESSAGE,msg,obj,force)},error:function(error,obj,force){return this.log(this.LEVEL_ERROR,error,obj,force)},warning:function(warning,obj,force){return this.log(this.LEVEL_WARNING,warning,obj,force)},levelBegin:function(level){switch(level){case this.LEVEL_ERROR:return"%c ERROR : ";case this.LEVEL_WARNING:return"%c WARNING : "}return""},levelEnd:function(level){switch(level){case this.LEVEL_ERROR:return"color: #ff1515;";case this.LEVEL_WARNING:return"color: #AA8E39;"}return""}},Tracer.setLevel(Tracer.LEVEL_ERROR+Tracer.LEVEL_WARNING),Tracer}(),jsext=function(){return jsext={isNullOrUndefined:function(variable){return"undefined"==typeof variable||null===variable},getObjectValues:function(dataObject){if(dataObject){var dataArray=Object.keys(dataObject).map(function(k){return dataObject[k]});return dataArray}},serializeDictionary:function(obj,connector){if(obj){connector=connector||",";var builder=[];for(var i in obj)obj.hasOwnProperty(i)&&"function"!=typeof i&&builder.push(i+"="+obj[i]);return builder.join(connector)}},buildUrl:function(link,params,starter){var serializedParams="string"==typeof params?params:_querystring.stringify(params),url=link||"";return serializedParams&&(starter=starter||"?",url.indexOf(starter)<0?url+=starter+serializedParams:url=url.endsWith("&")?url+serializedParams:url+"&"+serializedParams),url},first:function(obj){for(var i in obj)if(obj.hasOwnProperty(i)&&"function"!=typeof i)return obj[i]},trim:function(text){return text&&text.replace(/^\s+|\s+$/g,"")},escape:function(text){return text.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&")},format:function(format,args){if(format){for(var i=0;i<args.length;i++){var replacement="{"+i+"}";format=format.replace(replacement,args[i])}return format}},unique:function(arr){for(var a=arr.concat(),i=0;i<a.length;++i)for(var j=i+1;j<a.length;++j)a[i]===a[j]&&a.splice(j--,1);return a},removeArray:function(arr,killer){for(var a=arr.concat(),i=0;i<killer.length;++i){var val=killer[i],index=a.indexOf(val);index>=0&&a.splice(index,1)}return a},tryParseDate:function(sDate){return sDate.constructor===Date?sDate:sDate.constructor===Array?new Date(sDate[0],sDate[1],sDate[2]):sDate.constructor===Number?new Date(sDate):sDate.constructor===String?new Date(sDate):"object"==typeof sDate?new Date(sDate.year,sDate.month,sDate.date):NaN},parseDate:function(sDate){var date=sDate?this.tryParseDate(sDate):new Date;return date.toISOString()},parseDateGMT:function(sDate){var date=sDate?this.tryParseDate(sDate):new Date;return date.toGMTString()},parseDateGMTAddDays:function(sDate,days){var date=sDate?this.tryParseDate(sDate):new Date;return days?(date.addDays(days),date.toGMTString()):date.toGMTString()},parseDateGMTAddHours:function(sDate,hours){var date=sDate?this.tryParseDate(sDate):new Date;return hours?(date.addHours(hours),date.toGMTString()):date.toGMTString()},parseDateDDMMYYY:function(sDate,separator){if(sDate){var dateParts=sDate.split(separator||"/");if(dateParts&&3==dateParts.length){var dateObj=new Date(dateParts[2],dateParts[1]-1,dateParts[0]);return dateObj}}},dateToString:function(date){if(date){var dd=date.getDate(),mm=date.getMonth()+1,yyyy=date.getFullYear();dd<10&&(dd="0"+dd),mm<10&&(mm="0"+mm);var stringDate=dd+"/"+mm+"/"+yyyy;return stringDate}},compareDate:function(a,b){return isFinite(a=this.formatDate(a).valueOf())&&isFinite(b=this.formatDate(b).valueOf())?(a>b)-(a<b):NaN},inRangeDate:function(d,start,end){return isFinite(d=this.formatDate(d).valueOf())&&isFinite(start=this.formatDate(start).valueOf())&&isFinite(end=this.formatDate(end).valueOf())?start<=d&&d<=end:NaN},getMonthName:function(lang){var monthTab;switch(lang){case"fr":monthTab=["Janvier","Fevrier","Mars","Avril","Mai","Juin","Juillet","Aout","Septembre","Octobre","Novembre","Decembre"];break;case"en":default:monthTab=["January","February","March","April","May","June","July","August","September","October","November","December"]}return monthTab},getCurrentMonthName:function(lang){lang||(lang="en");var today=new Date,monthes=this.getMonthName(lang);return monthes[today.getMonth()]}},String.prototype.trim||(String.prototype.trim=function(){return jsext.trim(this)}),Function.prototype.extends||(Function.prototype.extends=function(ParentClass){ParentClass.constructor==Function?(this.prototype=new ParentClass,this.prototype.constructor=this,this.prototype.parent=ParentClass.prototype):(this.prototype=ParentClass,this.prototype.constructor=this,this.prototype.parent=ParentClass)}),String.prototype.format||(String.prototype.format=function(){return jsext.format(this,arguments)}),String.prototype.startsWith||(String.prototype.startsWith=function(searchString,position){return position=position||0,this.substr(position,searchString.length)===searchString}),RegExp.escape||(RegExp.escape=function(text){return jsext.escape(text)}),Array.prototype.unique||(Array.prototype.unique=function(){return jsext.unique(this)}),Array.prototype.removeArray||(Array.prototype.removeArray=function(killer){return jsext.removeArray(this,killer)}),Date.prototype.addHours||(Date.prototype.addHours=function(h){return this.setTime(this.getTime()+60*parseInt(h)*60*1e3),this}),Date.prototype.addDays||(Date.prototype.addDays=function(days){return this.setTime(this.getTime()+24*parseInt(days)*60*60*1e3),this}),Date.prototype.minusHours||(Date.prototype.minusHours=function(h){return this.setTime(this.getTime()-60*parseInt(h)*60*1e3),this}),Date.prototype.minusDays||(Date.prototype.minusDays=function(days){return this.setTime(this.getTime()-24*parseInt(days)*60*60*1e3),this}),jsext}(),app=function(angular){var app=angular.module("OnePageApp",["ngRoute","ngResource","ngCookies"]);return app.config(["$routeProvider","$locationProvider",function($routeProvider,$locationProvider){$routeProvider.when("/",{templateUrl:"views/maincontent.html"}).otherwise({redirectTo:"/"})}]),app}(angular),OnePageService=function(angular,jsext,app){return app.service("OnePageService",["$rootScope","$http","$cookies","$window","$interval",function($rootScope,$http,$cookies,$window,$interval){var self=this;self.connect=function(){},self.deconnect=function(){}}])}(angular,jsext,app),ResourceService=function(angular,app){return app.service("ResourceService",["$rootScope","$http",function($rootScope,$http){var self=this,config={},resources={},state={lang:""};self.load=function(){self.loadSiteConfig().then(function(){self.loadResLanguage()})},self.loadSiteConfig=function(){return $http({method:"get",url:"/config.json",headers:{"Content-Type":"application/vnd.api+json"}}).then(function(response){response&&response.data?(config=response.data,$rootScope.$broadcast("config",config)):console.log("ERROR_COMMUNICATION")})},self.loadResLanguage=function(lang){lang=lang||state.lang||"en";var langfile="/resources/common-"+lang+".json";return resources[langfile]?resources[langfile]:$http({method:"get",url:langfile,headers:{"Content-Type":"application/vnd.api+json"}}).then(function(response){response&&response.data?(resources[langfile]=response.data,state.common=resources[langfile],$rootScope.$broadcast("common",state.common)):console.log("ERROR_COMMUNICATION")})},self.changeLanguage=function(lang){return!(!config||!config.languages)&&(!(!lang||config.languages.indexOf(lang)<0)&&(state.lang=lang,$rootScope.$broadcast("lang",lang),self.loadResLanguage(),!0))},self.text=function(key){return state.common&&state.common[key]||key},self.config=function(key){if(config)return config[key]}}])}(angular,app),OnePageController=function(angular,app){return app.controller("OnePageController",["$scope","$http","$location","$interval","$window","OnePageService","ResourceService",function($scope,$http,$location,$interval,$window,OnePageService,ResourceService){var opc=$scope;opc.messageError="",opc.menu=null,opc.status="WAITING",opc.i=function(key){return ResourceService.text(key)},opc.config=function(key){return ResourceService.config(key)},opc.changeLanguage=function(lang){lang&&ResourceService.changeLanguage(lang)},opc.updateLanguage=function(e,lang){opc.lang=lang},opc.updateCommon=function(e,common){opc.status=null!=common?"READY":"ERROR"},opc.updateConfig=function(e,config){opc.menu=config&&config.menu},opc.ready=function(){return"READY"==opc.status},opc.$on("lang",opc.updateLanguage),opc.$on("common",opc.updateCommon),opc.$on("config",opc.updateConfig),$window.addEventListener("beforeunload",function(){return OnePageService.deconnect()}),ResourceService.load(),OnePageService.connect()}])}(angular,app),MenuBar=function(angular,app){return app.directive("menuBar",function(){return{restrict:"AE",templateUrl:"/components/ui/menubar.html"}})}(angular,app),StickyElem=function(angular,app){return app.directive("stickyElem",["$window",function($window){function StickyElemLink(scope,element){function toggleStickyNav(){!element.hasClass(scope.stickyclass)&&$window.pageYOffset>top+size?element.addClass(scope.stickyclass):element.hasClass(scope.stickyclass)&&$window.pageYOffset<=top+size&&element.removeClass(scope.stickyclass)}var w=angular.element($window),size=element[0].clientHeight,top=0;scope.$watch(function(){return element[0].getBoundingClientRect().top+$window.pageYOffset},function(newValue,oldValue){newValue===oldValue||element.hasClass(scope.stickyclass)||(top=newValue)}),w.bind("resize",function(){element.removeClass(scope.stickyclass),top=element[0].getBoundingClientRect().top+$window.pageYOffset,toggleStickyNav()}),w.bind("scroll",toggleStickyNav)}return{scope:{stickyclass:"@stickyclass"},restrict:"CA",link:StickyElemLink}}])}(angular,app),LazyImage=function(angular,app){return app.directive("lazyimage",["$window",function($window){function LazyImageLink(scope,element){function loadImage(){loaded||(scope.background?element[0].style.backgroundImage='url("'+scope.imgsrc+'")':element[0].src=scope.imgsrc,loaded=!0)}function loadPreImage(){scope.background||(element[0].src=scope.presrc)}function inViewport(media){var coordinates=media.getBoundingClientRect();return coordinates.bottom+scope.threshold>=0&&coordinates.left>=0&&coordinates.top-scope.threshold<=($window.innerHeight||document.documentElement.clientHeight)&&coordinates.right<=($window.innerWidth||document.documentElement.clientWidth)}function onChangeViewport(){loaded||inViewport(element[0])&&loadImage()}var w=angular.element($window),loaded=!1;scope.threshold=Number(scope.threshold)||100,scope.background=null!=scope.background,scope.errorimage=scope.errorimage||"/images/image-not-found.png",scope.presrc=scope.presrc||"/images/image-loading.png",w.bind("scroll",onChangeViewport),w.bind("resize",onChangeViewport),loadPreImage()}return{scope:{imgsrc:"@imgsrc",presrc:"@?src",background:"@?background",threshold:"@?threshold",errorimage:"@?error"},restrict:"CA",link:LazyImageLink}}])}(angular,app);